import React, { useState, useEffect } from 'react';
import { 
  Phone, 
  Mail, 
  MapPin, 
  TrendingUp, 
  Truck, 
  Menu, 
  X, 
  MessageCircle, 
  ArrowUpRight,
  Globe,
  ChevronRight,
  ShieldCheck,
  ArrowRight,
  Zap,
  CheckCircle2
} from 'lucide-react';

// --- TECH-INSTITUTIONAL DESIGN TOKENS ---
const fontStyles = `
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
  :root {
    --bg: #ffffff;
    --text: #111827;
    --emerald-deep: #022c22;
    --emerald-primary: #064e3b;
    --amber: #fbbf24;
    --slate: #64748b;
  }
  body { 
    font-family: 'Inter', sans-serif; 
    background-color: var(--bg);
    color: var(--text);
    -webkit-font-smoothing: antialiased;
    letter-spacing: -0.01em;
  }
  .reveal {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s cubic-bezier(0.22, 1, 0.36, 1);
  }
  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

  .bg-pattern {
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23065f46' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }
`;

const useScrollReveal = () => {
  useEffect(() => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });
    
    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    return () => observer.disconnect();
  }, []);
};

const App = () => {
  const [scrolled, setScrolled] = useState(false);
  const [mobileMenu, setMobileMenu] = useState(false);
  const [formStatus, setFormStatus] = useState('idle'); // idle, submitting, success
  const [formData, setFormData] = useState({ name: '', org: '', msg: '' });
  
  useScrollReveal();

  useEffect(() => {
    const handleScroll = () => setScrolled(window.scrollY > 20);
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const handleFormSubmit = (e) => {
    e.preventDefault();
    if (!formData.name || !formData.msg) return;
    
    setFormStatus('submitting');
    // Simulate API call for premium UX
    setTimeout(() => {
      setFormStatus('success');
      // In a real app, this is where you'd send an email or save to DB
    }, 1500);
  };

  const scrollTo = (id) => {
    const el = document.getElementById(id);
    if (el) {
      window.scrollTo({ top: el.offsetTop - 80, behavior: 'smooth' });
    }
    setMobileMenu(false);
  };

  const commodities = [
    { name: 'Broken Rice', type: 'Premium Speciality', img: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?auto=format&fit=crop&q=80&w=400' },
    { name: 'Yellow Maize', type: 'Feed Speciality', img: 'https://images.unsplash.com/photo-1551754655-cd27e38d2076?auto=format&fit=crop&q=80&w=400' },
    { name: 'Soya DOC', type: 'High Protein Feed', img: 'https://images.unsplash.com/photo-1594900900056-3f528bcc44a9?auto=format&fit=crop&q=80&w=400' },
    { name: 'DORB / DDGS', type: 'Processed Feed', img: 'https://images.unsplash.com/photo-1615485290382-441e4d0c9cb5?auto=format&fit=crop&q=80&w=400' },
    { name: 'Wheat Bran', type: 'Livestock Basic', img: 'https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?auto=format&fit=crop&q=80&w=400' },
    { name: 'Fine Paddy', type: 'Human Consumption', img: 'https://images.unsplash.com/photo-1536630596251-b12ba0d9f7d4?auto=format&fit=crop&q=80&w=400' },
  ];

  const partners = [
    { name: 'Cargill', img: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&q=60&w=200' },
    { name: 'Dehaat', img: 'https://images.unsplash.com/photo-1614850523459-c2f4c699c52e?auto=format&fit=crop&q=60&w=200' },
    { name: 'Suguna', img: 'https://images.unsplash.com/photo-1614850523011-8f49ffc73908?auto=format&fit=crop&q=60&w=200' },
    { name: 'NBHC', img: 'https://images.unsplash.com/photo-1614850523544-6453629b3531?auto=format&fit=crop&q=60&w=200' },
    { name: 'Pattabhi', img: 'https://images.unsplash.com/photo-1614850523429-17a42a00c8f5?auto=format&fit=crop&q=60&w=200' },
  ];

  return (
    <div className="min-h-screen">
      <style>{fontStyles}</style>

      {/* --- MINIMAL NAVIGATION --- */}
      <nav className={`fixed top-0 w-full z-[100] transition-all duration-500 ${scrolled ? 'bg-white/95 backdrop-blur-md py-4 border-b border-slate-100 shadow-sm' : 'bg-transparent py-8'}`}>
        <div className="max-w-[1280px] mx-auto px-6 flex justify-between items-center">
          <div className="flex items-center gap-4 cursor-pointer" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>
             <div className="w-10 h-10 flex items-center justify-center bg-emerald-950 rounded shadow-md border border-amber-500/30">
                <span className="text-amber-500 font-bold text-xs">GC</span>
             </div>
             <div className="flex flex-col">
                <span className={`text-[11px] font-bold tracking-[0.1em] leading-none transition-colors ${scrolled ? 'text-slate-900' : 'text-slate-900 md:text-emerald-950'}`}>GANGA CONVESSORS</span>
                <span className="text-[9px] uppercase tracking-widest text-emerald-600 font-bold mt-1">Institutional Brokerage</span>
             </div>
          </div>

          <div className="hidden md:flex items-center gap-10">
            {['stats', 'portfolio', 'services'].map((item) => (
              <button key={item} onClick={() => scrollTo(item)} className="text-[10px] uppercase tracking-[0.2em] font-bold text-slate-500 hover:text-emerald-900 transition-colors">{item}</button>
            ))}
            <button onClick={() => scrollTo('contact')} className="bg-emerald-950 text-white px-6 py-2.5 rounded text-[10px] uppercase tracking-widest font-bold hover:bg-black transition-all border border-amber-500/20">Contact Desk</button>
          </div>

          <button className="md:hidden text-emerald-950" onClick={() => setMobileMenu(true)}><Menu className="w-5 h-5" /></button>
        </div>
      </nav>

      {/* --- MOBILE NAV --- */}
      <div className={`fixed inset-0 bg-emerald-950 z-[200] flex flex-col p-10 transition-transform duration-700 ease-in-out ${mobileMenu ? 'translate-x-0' : 'translate-x-full'}`}>
        <button onClick={() => setMobileMenu(false)} className="self-end mb-20 text-white"><X className="w-6 h-6" /></button>
        <div className="flex flex-col gap-10 text-3xl font-light tracking-tighter text-white">
          <button onClick={() => scrollTo('stats')} className="text-left">The Scale</button>
          <button onClick={() => scrollTo('portfolio')} className="text-left">Portfolio</button>
          <button onClick={() => scrollTo('services')} className="text-left">Services</button>
          <button onClick={() => scrollTo('contact')} className="text-left font-bold text-amber-500 underline decoration-2">Inquire Now</button>
        </div>
      </div>

      {/* --- HERO --- */}
      <header className="pt-56 pb-32 bg-white relative overflow-hidden">
        <div className="absolute top-0 right-0 w-1/3 h-full bg-emerald-50/50 -skew-x-12 translate-x-1/2 -z-10"></div>
        <div className="max-w-[1280px] mx-auto px-6">
          <div className="max-w-4xl space-y-12 reveal">
            <div className="flex items-center gap-4">
               <div className="h-px w-12 bg-emerald-800"></div>
               <span className="text-[10px] uppercase tracking-[0.4em] font-bold text-emerald-800">Legacy Trade House</span>
            </div>
            <h1 className="text-6xl md:text-[5.5rem] font-light tracking-tight leading-[1.05] text-slate-900">
              Institutional <br />
              <span className="italic text-emerald-900 font-semibold underline decoration-amber-500/30 decoration-4">Scale Faciliated.</span>
            </h1>
            <p className="text-xl text-slate-500 font-light leading-relaxed max-w-lg">
              Spearheaded by <span className="text-emerald-950 font-semibold">Ravi Kumar Gupta (Pankaj)</span>. Orchestrating the trade of 75,000+ Metric Tons monthly with surgical precision.
            </p>
            <div className="flex flex-wrap gap-5 pt-4">
              <a href="tel:+919434069447" className="bg-emerald-950 text-white px-10 py-5 rounded-full text-[11px] font-bold uppercase tracking-widest hover:bg-black transition-all shadow-2xl shadow-emerald-900/20 flex items-center gap-3 border border-amber-500/20">
                <Phone className="w-4 h-4 text-amber-500" /> Direct Line
              </a>
              <a href="https://wa.me/919434069447" className="bg-white border-2 border-emerald-950 text-emerald-950 px-10 py-5 rounded-full text-[11px] font-bold uppercase tracking-widest hover:bg-emerald-50 transition-all flex items-center gap-3">
                <MessageCircle className="w-4 h-4" /> WhatsApp Trade
              </a>
            </div>
          </div>
        </div>
      </header>

      {/* --- STATS --- */}
      <section id="stats" className="py-36 bg-emerald-950 bg-pattern text-white relative">
        <div className="max-w-[1280px] mx-auto px-6 relative z-10">
          <div className="flex flex-col md:flex-row justify-between items-start md:items-end gap-12 mb-28 reveal">
            <div className="space-y-6">
               <h2 className="text-3xl md:text-6xl font-light tracking-tight">We deliver results. <br /><span className="text-amber-500 font-semibold">Not promises.</span></h2>
               <p className="text-emerald-100/60 font-light text-lg max-w-xl italic">Bridging the gap between India's finest millers and global demand for over three decades.</p>
            </div>
            <button onClick={() => scrollTo('contact')} className="bg-amber-500 text-emerald-950 px-10 py-5 rounded-full text-[10px] font-bold uppercase tracking-widest hover:bg-white transition-all shadow-xl shadow-amber-500/20">
              Start Trading <ArrowRight className="inline w-3 h-3 ml-2" />
            </button>
          </div>
          <div className="grid grid-cols-2 lg:grid-cols-4 gap-12 md:gap-20 reveal">
            {[
              { val: '30yr+', label: 'Market Tenure', desc: 'Operating since 1990 in the East Indian grain corridor.' },
              { val: '75,000', label: 'MT Monthly Volume', desc: 'Consistent movement of premium broken rice & maize.' },
              { val: '500+', label: 'Verified Millers', desc: 'A vetted network of India\'s most reliable suppliers.' },
              { val: '50+', label: 'National Agents', desc: 'On-ground intelligence at every key logistical node.' }
            ].map((s, i) => (
              <div key={i} className="space-y-6 border-l border-emerald-800 pl-8 group">
                <div className="text-5xl font-light text-amber-500 tracking-tighter group-hover:translate-x-2 transition-transform">{s.val}</div>
                <div className="space-y-2">
                  <div className="text-xs font-bold uppercase tracking-widest text-white">{s.label}</div>
                  <p className="text-xs text-emerald-100/40 font-light leading-relaxed">{s.desc}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* --- PORTFOLIO --- */}
      <section id="portfolio" className="py-32 bg-white overflow-hidden">
        <div className="max-w-[1280px] mx-auto px-6 mb-20 reveal">
           <div className="flex items-center gap-3 mb-4">
              <Zap className="w-4 h-4 text-amber-500 fill-amber-500" />
              <span className="text-[10px] uppercase tracking-[0.4em] font-bold text-slate-400">Inventory Command</span>
           </div>
           <p className="text-4xl md:text-5xl font-light text-slate-900 tracking-tighter leading-none italic">Product <span className="font-bold not-italic">Lookbook.</span></p>
        </div>
        <div className="flex overflow-x-auto no-scrollbar gap-8 px-6 md:px-[calc((100vw-1280px)/2+24px)] snap-x snap-mandatory pb-20 reveal">
          {commodities.map((item, i) => (
            <div key={i} className="snap-start shrink-0 w-[280px] md:w-[350px] group cursor-pointer">
              <div className="relative aspect-[4/5] overflow-hidden rounded-[2rem] mb-8 bg-slate-100 shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] transition-all duration-700 group-hover:shadow-emerald-900/10 group-hover:-translate-y-4">
                 <img src={item.img} className="w-full h-full object-cover grayscale transition-all duration-1000 group-hover:grayscale-0 group-hover:scale-110" alt={item.name} />
              </div>
              <p className="text-[10px] uppercase tracking-[0.2em] font-black text-emerald-800 mb-2">{item.type}</p>
              <h3 className="text-xl font-medium tracking-tight text-slate-900 flex items-center justify-between">
                {item.name} <ArrowUpRight className="w-4 h-4 text-emerald-900/20 group-hover:text-emerald-900 transition-colors" />
              </h3>
            </div>
          ))}
        </div>
      </section>

      {/* --- SERVICES --- */}
      <section id="services" className="py-32 bg-slate-50 relative">
        <div className="max-w-[1280px] mx-auto px-6 grid md:grid-cols-3 gap-16 reveal">
          {[
            { title: 'Global Brokerage', text: 'Proprietary matching algorithms and human expertise for large-scale milling contracts.' },
            { title: 'Trade Finance', text: 'Facilitating multi-crore credit cycles to ensure zero friction in high-volume commodity cycles.' },
            { title: 'Logistics Command', text: 'Managing the Siliguri-Gulabbagh trade vein with military-grade transport coordination.' }
          ].map((s, i) => (
            <div key={i} className="group space-y-8 p-10 bg-white rounded-3xl border border-slate-100 hover:border-emerald-200 transition-all shadow-sm hover:shadow-xl">
              <div className="w-14 h-14 flex items-center justify-center bg-emerald-950 text-amber-500 rounded-2xl group-hover:scale-110 transition-transform">
                {i === 0 ? <TrendingUp size={24} /> : i === 1 ? <ShieldCheck size={24} /> : <Globe size={24} />}
              </div>
              <div className="space-y-4">
                <h3 className="text-xs font-black uppercase tracking-[0.2em] text-emerald-950">{s.title}</h3>
                <p className="text-slate-500 font-light leading-relaxed text-sm">{s.text}</p>
              </div>
            </div>
          ))}
        </div>
      </section>

      {/* --- PARTNERS --- */}
      <section className="py-24 border-y border-slate-100 bg-white">
        <div className="max-w-[1280px] mx-auto px-6">
          <p className="text-center text-[9px] uppercase tracking-[0.5em] font-black text-slate-300 mb-16 italic">Strategic Counterparties</p>
          <div className="flex flex-wrap justify-center items-center gap-16 md:gap-32 grayscale opacity-40 hover:opacity-100 transition-all duration-700">
            {partners.map((p, i) => (
              <div key={i} className="flex items-center gap-3 group cursor-default">
                 <img src={p.img} className="w-6 h-6 rounded-full border border-slate-100" alt={p.name} />
                 <span className="text-[11px] font-bold uppercase tracking-[0.2em] text-slate-400">{p.name}</span>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* --- CONTACT & INQUIRY FORM --- */}
      <section id="contact" className="py-32 bg-white">
        <div className="max-w-[1280px] mx-auto px-6 reveal relative">
           {/* Success Modal Overlay */}
           {formStatus === 'success' && (
             <div className="absolute inset-0 z-[50] bg-emerald-950 rounded-[3rem] flex flex-col items-center justify-center text-center p-12 animate-in fade-in duration-500">
                <CheckCircle2 className="w-20 h-20 text-amber-500 mb-6" />
                <h3 className="text-4xl font-bold text-white mb-4">Request Received</h3>
                <p className="text-emerald-100/60 max-w-sm mb-8 font-light italic text-lg">Our trade desk has been notified. Ravi Kumar Gupta's team will contact you shortly.</p>
                <button 
                  onClick={() => setFormStatus('idle')}
                  className="bg-white text-emerald-950 px-8 py-3 rounded-full text-xs font-bold uppercase tracking-widest hover:bg-amber-500 transition-all"
                >
                  Return to Dashboard
                </button>
             </div>
           )}

           <div className="bg-emerald-950 bg-pattern rounded-[3rem] overflow-hidden flex flex-col lg:flex-row shadow-3xl">
              {/* Info Side */}
              <div className="lg:w-1/2 p-16 md:p-24 space-y-16 text-white border-b lg:border-b-0 lg:border-r border-emerald-800">
                <div className="space-y-4">
                  <h2 className="text-5xl font-light tracking-tighter leading-none text-amber-500">Inquiry Desk.</h2>
                  <p className="text-emerald-100/50 font-light text-lg">Direct access to the East Indian trade command.</p>
                </div>
                <div className="space-y-12">
                   <div className="flex gap-8 items-start">
                      <div className="w-12 h-12 rounded-full bg-emerald-900 flex items-center justify-center shrink-0 border border-emerald-700">
                         <MapPin className="text-amber-500 w-5 h-5" />
                      </div>
                      <div className="space-y-2">
                        <p className="text-[10px] uppercase tracking-widest font-black text-emerald-400">Head Office — WB</p>
                        <p className="text-sm font-medium leading-relaxed opacity-70">Shree Maa Bhawan, 2nd Floor, Khalpara, Siliguri - 734005.</p>
                        <a href="tel:+919434069447" className="block text-amber-500 font-bold text-2xl tracking-tight transition-transform hover:scale-105">+91 94340 69447</a>
                      </div>
                   </div>
                   <div className="flex gap-8 items-start">
                      <div className="w-12 h-12 rounded-full bg-emerald-900 flex items-center justify-center shrink-0 border border-emerald-700">
                         <MapPin className="text-amber-500 w-5 h-5" />
                      </div>
                      <div className="space-y-2">
                        <p className="text-[10px] uppercase tracking-widest font-black text-emerald-400">Corporate Office — Bihar</p>
                        <p className="text-sm font-medium leading-relaxed opacity-70">NH-57, Hasad, Gulabbagh - 854326, Bihar.</p>
                        <a href="tel:+919233469447" className="block text-amber-500 font-bold text-2xl tracking-tight transition-transform hover:scale-105">+91 92334 69447</a>
                      </div>
                   </div>
                </div>
              </div>

              {/* Form Side */}
              <form onSubmit={handleFormSubmit} className="lg:w-1/2 p-16 md:p-24 bg-white/5 backdrop-blur-sm space-y-12 text-white">
                <h3 className="text-xs uppercase tracking-widest font-black text-emerald-400">Trade Request</h3>
                <div className="grid gap-12">
                  <input 
                    required
                    type="text" 
                    placeholder="Full Name" 
                    value={formData.name}
                    onChange={(e) => setFormData({...formData, name: e.target.value})}
                    className="w-full bg-transparent border-b border-emerald-800 py-4 focus:outline-none focus:border-amber-500 font-light text-sm transition-all text-white placeholder:text-emerald-100/20" 
                  />
                  <input 
                    type="text" 
                    placeholder="Organization" 
                    value={formData.org}
                    onChange={(e) => setFormData({...formData, org: e.target.value})}
                    className="w-full bg-transparent border-b border-emerald-800 py-4 focus:outline-none focus:border-amber-500 font-light text-sm transition-all text-white placeholder:text-emerald-100/20" 
                  />
                  <textarea 
                    required
                    placeholder="Trade Requirements (Quantity, Commodity)" 
                    rows="3" 
                    value={formData.msg}
                    onChange={(e) => setFormData({...formData, msg: e.target.value})}
                    className="w-full bg-transparent border-b border-emerald-800 py-4 focus:outline-none focus:border-amber-500 font-light text-sm transition-all text-white placeholder:text-emerald-100/20"
                  ></textarea>
                </div>
                <button 
                  type="submit"
                  disabled={formStatus === 'submitting'}
                  className="w-full bg-amber-500 text-emerald-950 py-6 rounded-2xl text-[11px] uppercase tracking-[0.2em] font-black hover:bg-white transition-all shadow-2xl shadow-amber-500/10 disabled:opacity-50 flex items-center justify-center gap-3"
                >
                  {formStatus === 'submitting' ? 'Processing...' : 'Submit Inquiry'}
                  {formStatus !== 'submitting' && <ArrowRight className="w-4 h-4" />}
                </button>
              </form>
           </div>
        </div>
      </section>

      {/* --- FOOTER --- */}
      <footer className="py-24 bg-white border-t border-slate-50">
        <div className="max-w-[1280px] mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-12 text-center md:text-left">
          <div className="flex items-center gap-6 grayscale opacity-40 hover:opacity-100 transition-opacity">
            <div className="w-10 h-10 flex items-center justify-center bg-emerald-950 text-amber-500 font-bold text-[11px] rounded shadow-sm border border-amber-500/20">GC</div>
            <div className="flex flex-col">
              <span className="text-[10px] font-black tracking-[0.2em] text-slate-900 uppercase leading-none">GANGA CONVESSORS</span>
              <span className="text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-1 italic">Built for the RK Group Legacy</span>
            </div>
          </div>
          <div className="flex gap-16 text-[9px] uppercase tracking-[0.4em] font-black text-slate-300">
            <p>© 2026 Ganga Convessors</p>
            <p>Siliguri • Gulabbagh</p>
          </div>
        </div>
      </footer>

      {/* --- FLOATING MOBILE CTA --- */}
      <div className="md:hidden fixed bottom-8 left-8 right-8 z-[300] flex gap-4">
        <a href="tel:+919434069447" className="flex-1 bg-white border-2 border-emerald-900 text-emerald-950 py-5 rounded-full flex items-center justify-center gap-2 font-black text-[10px] uppercase tracking-[0.2em] shadow-3xl active:scale-95 transition-transform">
          Call
        </a>
        <a href="https://wa.me/919434069447" className="flex-1 bg-emerald-950 text-white py-5 rounded-full flex items-center justify-center gap-2 font-black text-[10px] uppercase tracking-[0.2em] shadow-3xl active:scale-95 transition-transform border-b-4 border-emerald-700">
          WhatsApp
        </a>
      </div>
    </div>
  );
};

export default App;
